var students={},hash=window.location.hash,page=1,numberOfPages=$("#number-of-pages").text();$(document).ready(function(){hash&&"#page"==hash.substring(0,5)&&(page=parseInt(hash.substring(6))),console.log(page),$("#pagination").pagination({items:numberOfPages,itemOnPage:8,currentPage:page,cssStyle:"",prevText:'<span aria-hidden="true">&laquo;</span>',nextText:'<span aria-hidden="true">&raquo;</span>',onInit:function(){getData()},onPageClick:function(t,e){page=t,window.location.hash="#page-"+page,console.log(page),null==students[page]?getData():setDataToTable()}}),configCourseAndProgram(),$("#faculty_id").change(function(){configCourseAndProgram()})});var configCourseAndProgram=function(){var t=$("#faculty_id").val(),e=!1;$(".course-option-item").each(function(a,n){$(this).attr("data-faculty-id")!=t?($(this).hide(),$(this).attr("selected",!1)):($(this).show(),0==e&&($(this).attr("selected",!0),e=!0))});var a=!1;$(".program-option-item").each(function(e,n){$(this).attr("data-faculty-id")!=t?($(this).hide(),$(this).attr("selected",!1)):($(this).show(),0==a&&($(this).attr("selected",!0),a=!0))})},success=function(t){1==t.status?(console.log(t),students[page]=[],t.data.forEach(function(t){students[page].push(t)}),setDataToTable(10*(page-1),t.data.length)):$.toast({heading:"Error",text:t.message,icon:"error"})},error=function(t){$.toast({heading:"Error",text:"Can't send request",icon:"error"})},getData=function(){var t={page:page};"moderator"==$("#current-role").text()&&(t.faculty_id=$("#current-facultyID").text()),$.ajax({url:"/admin/users/api/students",method:"GET",data:t,success:success,error:error})},setDataToTable=function(){$(".table.table-body").children().remove(),students[page].forEach(function(t){null!=t.student&&$("#table-students").append("<tr><td>"+t.officerNumber+"</td><td>"+t.fullName+"</td><td>"+t.email+"</td><td>"+t.faculty.name+"</td><td>"+t.student.course.name+"</td><td>"+t.student.program.name+"</td><td>"+t.student.thesisRegistrable+"</td></tr>")})};