var theses={},hash=window.location.hash,page=1,numberOfPages=$("#number-of-pages").text();$(document).ready(function(){hash&&"#page"==hash.substring(0,5)&&(page=parseInt(hash.substring(6))),$("#pagination").pagination({items:numberOfPages,itemOnPage:8,currentPage:page,cssStyle:"",prevText:'<span aria-hidden="true">&laquo;</span>',nextText:'<span aria-hidden="true">&raquo;</span>',onInit:function(){getData()},onPageClick:function(e,a){page=e,window.location.hash="#page-"+page,console.log(page),null==theses[page]?getData():setDataToTable()}})});var success=function(e){1==e.status?(console.log(e),theses[page]=[],e.data.forEach(function(e){theses[page].push(e)}),setDataToTable(10*(page-1),e.data.length)):showError(e.message)},getData=function(){var e={page:page};"moderator"==$("#current-role").text()&&(e.faculty_id=$("#current-facultyID").text()),$.ajax({url:"/admin/theses/api/theses",method:"GET",data:e,success:success,error:errorHandler})},setDataToTable=function(){$(".table.table-body").children().remove(),theses[page].forEach(function(e){$("#table-theses").append("<tr><td>"+e.name+"</td><td>"+formatDate(e.from)+"</td><td>"+formatDate(e.to)+"</td><td>"+e.faculty.name+'</td><td></td><td><a href="#" onclick="notify(event, \''+e.id+"')\">Send Notifications</a></td></tr>")})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZXNlcy50aGVzZXMuanMiXSwibmFtZXMiOlsidGhlc2VzIiwiaGFzaCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGFnZSIsIm51bWJlck9mUGFnZXMiLCIkIiwidGV4dCIsImRvY3VtZW50IiwicmVhZHkiLCJzdWJzdHJpbmciLCJwYXJzZUludCIsInBhZ2luYXRpb24iLCJpdGVtcyIsIml0ZW1PblBhZ2UiLCJjdXJyZW50UGFnZSIsImNzc1N0eWxlIiwicHJldlRleHQiLCJuZXh0VGV4dCIsIm9uSW5pdCIsImdldERhdGEiLCJvblBhZ2VDbGljayIsImV2dCIsImNvbnNvbGUiLCJsb2ciLCJzZXREYXRhVG9UYWJsZSIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsInN0YXR1cyIsImRhdGEiLCJmb3JFYWNoIiwidGhlc2lzIiwicHVzaCIsImxlbmd0aCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJmYWN1bHR5X2lkIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImVycm9yIiwiZXJyb3JIYW5kbGVyIiwiY2hpbGRyZW4iLCJyZW1vdmUiLCJhcHBlbmQiLCJuYW1lIiwiZm9ybWF0RGF0ZSIsImZyb20iLCJ0byIsImZhY3VsdHkiLCJpZCJdLCJtYXBwaW5ncyI6IkFBSUEsR0FBSUEsV0FDQUMsS0FBT0MsT0FBT0MsU0FBU0YsS0FDdkJHLEtBQU8sRUFDUEMsY0FBZ0JDLEVBQUUsb0JBQW9CQyxNQUUxQ0QsR0FBRUUsVUFBVUMsTUFBTSxXQUVWUixNQUFnQyxTQUF4QkEsS0FBS1MsVUFBVSxFQUFHLEtBQzFCTixLQUFPTyxTQUFTVixLQUFLUyxVQUFVLEtBR25DSixFQUFFLGVBQWVNLFlBQ2JDLE1BQU9SLGNBQ1BTLFdBQVksRUFDWkMsWUFBYVgsS0FDYlksU0FBVSxHQUNWQyxTQUFVLDBDQUNWQyxTQUFVLDBDQUNWQyxPQUFRLFdBRUpDLFdBRUpDLFlBQWEsU0FBVU4sRUFBYU8sR0FFaENsQixLQUFPVyxFQUNQYixPQUFPQyxTQUFTRixLQUFPLFNBQVdHLEtBQ2xDbUIsUUFBUUMsSUFBSXBCLE1BQ1EsTUFBaEJKLE9BQU9JLE1BQ1BnQixVQUVBSyxxQkFRaEIsSUFBSUMsU0FBVSxTQUFVQyxHQUNHLEdBQW5CQSxFQUFTQyxRQUVUTCxRQUFRQyxJQUFJRyxHQUVaM0IsT0FBT0ksU0FFUHVCLEVBQVNFLEtBQUtDLFFBQVEsU0FBVUMsR0FDNUIvQixPQUFPSSxNQUFNNEIsS0FBS0QsS0FHdEJOLGVBQTRCLElBQVpyQixLQUFPLEdBQVN1QixFQUFTRSxLQUFLSSxTQUc5Q0MsVUFBVVAsRUFBU1EsVUFJdkJmLFFBQVUsV0FFVixHQUFJUyxJQUNBekIsS0FBTUEsS0FHdUIsY0FBN0JFLEVBQUUsaUJBQWlCQyxTQUNuQnNCLEVBQUtPLFdBQWE5QixFQUFFLHNCQUFzQkMsUUFHOUNELEVBQUUrQixNQUNFQyxJQUFLLDJCQUNMQyxPQUFRLE1BQ1JWLEtBQU1BLEVBQ05ILFFBQVNBLFFBQ1RjLE1BQU9DLGdCQUlYaEIsZUFBaUIsV0FDakJuQixFQUFFLHFCQUFxQm9DLFdBQVdDLFNBRWxDM0MsT0FBT0ksTUFBTTBCLFFBQVEsU0FBVUMsR0FFM0J6QixFQUFFLGlCQUFpQnNDLE9BQU8sV0FDYmIsRUFBT2MsS0FBTyxZQUNkQyxXQUFXZixFQUFPZ0IsTUFBUSxZQUMxQkQsV0FBV2YsRUFBT2lCLElBQU0sWUFDeEJqQixFQUFPa0IsUUFBUUosS0FBTywwREFFZWQsRUFBT21CLEdBQUsiLCJmaWxlIjoidGhlc2VzLnRoZXNlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdHJhbnZpZXR0aGFuZyBvbiAxMi80LzE2LlxuICovXG5cbnZhciB0aGVzZXMgPSB7fTtcbnZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG52YXIgcGFnZSA9IDE7XG52YXIgbnVtYmVyT2ZQYWdlcyA9ICQoXCIjbnVtYmVyLW9mLXBhZ2VzXCIpLnRleHQoKTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgaWYgKGhhc2ggJiYgaGFzaC5zdWJzdHJpbmcoMCwgNSkgPT0gJyNwYWdlJykge1xuICAgICAgICBwYWdlID0gcGFyc2VJbnQoaGFzaC5zdWJzdHJpbmcoNikpO1xuICAgIH1cblxuICAgICQoJyNwYWdpbmF0aW9uJykucGFnaW5hdGlvbih7XG4gICAgICAgIGl0ZW1zOiBudW1iZXJPZlBhZ2VzLFxuICAgICAgICBpdGVtT25QYWdlOiA4LFxuICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcbiAgICAgICAgY3NzU3R5bGU6ICcnLFxuICAgICAgICBwcmV2VGV4dDogJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZsYXF1bzs8L3NwYW4+JyxcbiAgICAgICAgbmV4dFRleHQ6ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mcmFxdW87PC9zcGFuPicsXG4gICAgICAgIG9uSW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gZmlyZSBmaXJzdCBwYWdlIGxvYWRpbmdcbiAgICAgICAgICAgIGdldERhdGEoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25QYWdlQ2xpY2s6IGZ1bmN0aW9uIChjdXJyZW50UGFnZSwgZXZ0KSB7XG4gICAgICAgICAgICAvLyBzb21lIGNvZGVcbiAgICAgICAgICAgIHBhZ2UgPSBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gXCIjcGFnZS1cIiArIHBhZ2U7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlKTtcbiAgICAgICAgICAgIGlmICh0aGVzZXNbcGFnZV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdldERhdGEoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0RGF0YVRvVGFibGUoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuXG52YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gdHJ1ZSkge1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblxuICAgICAgICB0aGVzZXNbcGFnZV0gPSBbXTtcblxuICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKHRoZXNpcykge1xuICAgICAgICAgICAgdGhlc2VzW3BhZ2VdLnB1c2godGhlc2lzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0RGF0YVRvVGFibGUoKHBhZ2UgLSAxKSAqIDEwLCByZXNwb25zZS5kYXRhLmxlbmd0aCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICBzaG93RXJyb3IocmVzcG9uc2UubWVzc2FnZSlcbiAgICB9XG59O1xuXG52YXIgZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBkYXRhID0ge1xuICAgICAgICBwYWdlOiBwYWdlXG4gICAgfTtcblxuICAgIGlmICgkKFwiI2N1cnJlbnQtcm9sZVwiKS50ZXh0KCkgPT0gXCJtb2RlcmF0b3JcIikge1xuICAgICAgICBkYXRhLmZhY3VsdHlfaWQgPSAkKFwiI2N1cnJlbnQtZmFjdWx0eUlEXCIpLnRleHQoKTtcbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IFwiL2FkbWluL3RoZXNlcy9hcGkvdGhlc2VzXCIsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgZXJyb3I6IGVycm9ySGFuZGxlclxuICAgIH0pO1xufTtcblxudmFyIHNldERhdGFUb1RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICQoJy50YWJsZS50YWJsZS1ib2R5JykuY2hpbGRyZW4oKS5yZW1vdmUoKTtcblxuICAgIHRoZXNlc1twYWdlXS5mb3JFYWNoKGZ1bmN0aW9uICh0aGVzaXMpIHtcblxuICAgICAgICAkKCcjdGFibGUtdGhlc2VzJykuYXBwZW5kKCc8dHI+JyArXG4gICAgICAgICAgICAnPHRkPicgKyB0aGVzaXMubmFtZSArICc8L3RkPicgK1xuICAgICAgICAgICAgJzx0ZD4nICsgZm9ybWF0RGF0ZSh0aGVzaXMuZnJvbSkgKyAnPC90ZD4nICtcbiAgICAgICAgICAgICc8dGQ+JyArIGZvcm1hdERhdGUodGhlc2lzLnRvKSArICc8L3RkPicgK1xuICAgICAgICAgICAgJzx0ZD4nICsgdGhlc2lzLmZhY3VsdHkubmFtZSArICc8L3RkPicgK1xuICAgICAgICAgICAgJzx0ZD4nICsgJzwvdGQ+JyArXG4gICAgICAgICAgICAnPHRkPjxhIGhyZWY9XCIjXCIgb25jbGljaz1cIm5vdGlmeShldmVudCwgXFwnJyArIHRoZXNpcy5pZCArICdcXCcpXCI+U2VuZCBOb3RpZmljYXRpb25zPC9hPjwvdGQ+JyArXG4gICAgICAgICAgICAnPC90cj4nXG4gICAgICAgIClcbiAgICB9KTtcbn07Il19
