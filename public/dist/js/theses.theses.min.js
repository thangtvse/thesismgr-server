var theses={},hash=window.location.hash,page=1,numberOfPages=$("#number-of-pages").text();$(document).ready(function(){hash&&"#page"==hash.substring(0,5)&&(page=parseInt(hash.substring(6))),$("#pagination").pagination({items:numberOfPages,itemOnPage:8,currentPage:page,cssStyle:"",prevText:'<span aria-hidden="true">&laquo;</span>',nextText:'<span aria-hidden="true">&raquo;</span>',onInit:function(){getData()},onPageClick:function(e,a){page=e,window.location.hash="#page-"+page,console.log(page),null==theses[page]?getData():setDataToTable()}})});var success=function(e){1==e.status?(console.log(e),theses[page]=[],e.data.forEach(function(e){theses[page].push(e)}),setDataToTable(10*(page-1),e.data.length)):showError(e.message)},getData=function(){var e={page:page};"moderator"==$("#current-role").text()&&(e.faculty_id=$("#current-facultyID").text()),$.ajax({url:"/admin/theses/api/theses",method:"GET",data:e,success:success,error:errorHandler})},setDataToTable=function(){$(".table.table-body").children().remove(),theses[page].forEach(function(e){$("#table-theses").append("<tr><td>"+e.name+"</td><td>"+formatDate(e.from)+"</td><td>"+formatDate(e.to)+"</td><td>"+e.faculty.name+'</td><td></td><td><a href="#" onclick="notify(event, \''+e.id+"')\">Send Notifications</a></td></tr>")})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZXNlcy50aGVzZXMuanMiXSwibmFtZXMiOlsidGhlc2VzIiwiaGFzaCIsIndpbmRvdyIsImxvY2F0aW9uIiwicGFnZSIsIm51bWJlck9mUGFnZXMiLCIkIiwidGV4dCIsImRvY3VtZW50IiwicmVhZHkiLCJzdWJzdHJpbmciLCJwYXJzZUludCIsInBhZ2luYXRpb24iLCJpdGVtcyIsIml0ZW1PblBhZ2UiLCJjdXJyZW50UGFnZSIsImNzc1N0eWxlIiwicHJldlRleHQiLCJuZXh0VGV4dCIsIm9uSW5pdCIsImdldERhdGEiLCJvblBhZ2VDbGljayIsImV2dCIsImNvbnNvbGUiLCJsb2ciLCJzZXREYXRhVG9UYWJsZSIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsInN0YXR1cyIsImRhdGEiLCJmb3JFYWNoIiwidGhlc2lzIiwicHVzaCIsImxlbmd0aCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJmYWN1bHR5X2lkIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImVycm9yIiwiZXJyb3JIYW5kbGVyIiwiY2hpbGRyZW4iLCJyZW1vdmUiLCJhcHBlbmQiLCJuYW1lIiwiZm9ybWF0RGF0ZSIsImZyb20iLCJ0byIsImZhY3VsdHkiLCJpZCJdLCJtYXBwaW5ncyI6IkFBSUEsR0FBSUEsV0FDQUMsS0FBT0MsT0FBT0MsU0FBU0YsS0FDdkJHLEtBQU8sRUFDUEMsY0FBZ0JDLEVBQUUsb0JBQW9CQyxNQUUxQ0QsR0FBRUUsVUFBVUMsTUFBTSxXQUVWUixNQUFnQyxTQUF4QkEsS0FBS1MsVUFBVSxFQUFHLEtBQzFCTixLQUFPTyxTQUFTVixLQUFLUyxVQUFVLEtBR25DSixFQUFFLGVBQWVNLFlBQ2JDLE1BQU9SLGNBQ1BTLFdBQVksRUFDWkMsWUFBYVgsS0FDYlksU0FBVSxHQUNWQyxTQUFVLDBDQUNWQyxTQUFVLDBDQUNWQyxPQUFRLFdBRUpDLFdBRUpDLFlBQWEsU0FBVU4sRUFBYU8sR0FFaENsQixLQUFPVyxFQUNQYixPQUFPQyxTQUFTRixLQUFPLFNBQVdHLEtBQ2xDbUIsUUFBUUMsSUFBSXBCLE1BQ1EsTUFBaEJKLE9BQU9JLE1BQ1BnQixVQUVBSyxxQkFRaEIsSUFBSUMsU0FBVSxTQUFVQyxHQUNHLEdBQW5CQSxFQUFTQyxRQUVUTCxRQUFRQyxJQUFJRyxHQUVaM0IsT0FBT0ksU0FFUHVCLEVBQVNFLEtBQUtDLFFBQVEsU0FBVUMsR0FDNUIvQixPQUFPSSxNQUFNNEIsS0FBS0QsS0FHdEJOLGVBQTRCLElBQVpyQixLQUFPLEdBQVN1QixFQUFTRSxLQUFLSSxTQUc5Q0MsVUFBVVAsRUFBU1EsVUFJdkJmLFFBQVUsV0FFVixHQUFJUyxJQUNBekIsS0FBTUEsS0FHdUIsY0FBN0JFLEVBQUUsaUJBQWlCQyxTQUNuQnNCLEVBQUtPLFdBQWE5QixFQUFFLHNCQUFzQkMsUUFHOUNELEVBQUUrQixNQUNFQyxJQUFLLDJCQUNMQyxPQUFRLE1BQ1JWLEtBQU1BLEVBQ05ILFFBQVNBLFFBQ1RjLE1BQU9DLGdCQUlYaEIsZUFBaUIsV0FDakJuQixFQUFFLHFCQUFxQm9DLFdBQVdDLFNBRWxDM0MsT0FBT0ksTUFBTTBCLFFBQVEsU0FBVUMsR0FFM0J6QixFQUFFLGlCQUFpQnNDLE9BQU8sV0FDYmIsRUFBT2MsS0FBTyxZQUNkQyxXQUFXZixFQUFPZ0IsTUFBUSxZQUMxQkQsV0FBV2YsRUFBT2lCLElBQU0sWUFDeEJqQixFQUFPa0IsUUFBUUosS0FBTywwREFFZWQsRUFBT21CLEdBQUsiLCJmaWxlIjoidGhlc2VzLnRoZXNlcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ3JlYXRlZCBieSB0cmFudmlldHRoYW5nIG9uIDEyLzQvMTYuXHJcbiAqL1xyXG5cclxudmFyIHRoZXNlcyA9IHt9O1xyXG52YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xyXG52YXIgcGFnZSA9IDE7XHJcbnZhciBudW1iZXJPZlBhZ2VzID0gJChcIiNudW1iZXItb2YtcGFnZXNcIikudGV4dCgpO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIGlmIChoYXNoICYmIGhhc2guc3Vic3RyaW5nKDAsIDUpID09ICcjcGFnZScpIHtcclxuICAgICAgICBwYWdlID0gcGFyc2VJbnQoaGFzaC5zdWJzdHJpbmcoNikpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJyNwYWdpbmF0aW9uJykucGFnaW5hdGlvbih7XHJcbiAgICAgICAgaXRlbXM6IG51bWJlck9mUGFnZXMsXHJcbiAgICAgICAgaXRlbU9uUGFnZTogOCxcclxuICAgICAgICBjdXJyZW50UGFnZTogcGFnZSxcclxuICAgICAgICBjc3NTdHlsZTogJycsXHJcbiAgICAgICAgcHJldlRleHQ6ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mbGFxdW87PC9zcGFuPicsXHJcbiAgICAgICAgbmV4dFRleHQ6ICc8c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mcmFxdW87PC9zcGFuPicsXHJcbiAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIGZpcmUgZmlyc3QgcGFnZSBsb2FkaW5nXHJcbiAgICAgICAgICAgIGdldERhdGEoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uUGFnZUNsaWNrOiBmdW5jdGlvbiAoY3VycmVudFBhZ2UsIGV2dCkge1xyXG4gICAgICAgICAgICAvLyBzb21lIGNvZGVcclxuICAgICAgICAgICAgcGFnZSA9IGN1cnJlbnRQYWdlO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiI3BhZ2UtXCIgKyBwYWdlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwYWdlKTtcclxuICAgICAgICAgICAgaWYgKHRoZXNlc1twYWdlXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBnZXREYXRhKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXREYXRhVG9UYWJsZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG52YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSB0cnVlKSB7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgdGhlc2VzW3BhZ2VdID0gW107XHJcblxyXG4gICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAodGhlc2lzKSB7XHJcbiAgICAgICAgICAgIHRoZXNlc1twYWdlXS5wdXNoKHRoZXNpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNldERhdGFUb1RhYmxlKChwYWdlIC0gMSkgKiAxMCwgcmVzcG9uc2UuZGF0YS5sZW5ndGgpO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hvd0Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UpXHJcbiAgICB9XHJcbn07XHJcblxyXG52YXIgZ2V0RGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICBwYWdlOiBwYWdlXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICgkKFwiI2N1cnJlbnQtcm9sZVwiKS50ZXh0KCkgPT0gXCJtb2RlcmF0b3JcIikge1xyXG4gICAgICAgIGRhdGEuZmFjdWx0eV9pZCA9ICQoXCIjY3VycmVudC1mYWN1bHR5SURcIikudGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiBcIi9hZG1pbi90aGVzZXMvYXBpL3RoZXNlc1wiLFxyXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXHJcbiAgICAgICAgZXJyb3I6IGVycm9ySGFuZGxlclxyXG4gICAgfSk7XHJcbn07XHJcblxyXG52YXIgc2V0RGF0YVRvVGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcudGFibGUudGFibGUtYm9keScpLmNoaWxkcmVuKCkucmVtb3ZlKCk7XHJcblxyXG4gICAgdGhlc2VzW3BhZ2VdLmZvckVhY2goZnVuY3Rpb24gKHRoZXNpcykge1xyXG5cclxuICAgICAgICAkKCcjdGFibGUtdGhlc2VzJykuYXBwZW5kKCc8dHI+JyArXHJcbiAgICAgICAgICAgICc8dGQ+JyArIHRoZXNpcy5uYW1lICsgJzwvdGQ+JyArXHJcbiAgICAgICAgICAgICc8dGQ+JyArIGZvcm1hdERhdGUodGhlc2lzLmZyb20pICsgJzwvdGQ+JyArXHJcbiAgICAgICAgICAgICc8dGQ+JyArIGZvcm1hdERhdGUodGhlc2lzLnRvKSArICc8L3RkPicgK1xyXG4gICAgICAgICAgICAnPHRkPicgKyB0aGVzaXMuZmFjdWx0eS5uYW1lICsgJzwvdGQ+JyArXHJcbiAgICAgICAgICAgICc8dGQ+JyArICc8L3RkPicgK1xyXG4gICAgICAgICAgICAnPHRkPjxhIGhyZWY9XCIjXCIgb25jbGljaz1cIm5vdGlmeShldmVudCwgXFwnJyArIHRoZXNpcy5pZCArICdcXCcpXCI+U2VuZCBOb3RpZmljYXRpb25zPC9hPjwvdGQ+JyArXHJcbiAgICAgICAgICAgICc8L3RyPidcclxuICAgICAgICApXHJcbiAgICB9KTtcclxufTsiXX0=
