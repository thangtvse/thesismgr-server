var sessions={},hash=window.location.hash,page=1,numberOfPages=$("#number-of-pages").text();$(document).ready(function(){hash&&"#page"==hash.substring(0,5)&&(page=parseInt(hash.substring(6))),$("#pagination").pagination({items:numberOfPages,itemOnPage:8,currentPage:page,cssStyle:"",prevText:'<span aria-hidden="true">&laquo;</span>',nextText:'<span aria-hidden="true">&raquo;</span>',onInit:function(){getData()},onPageClick:function(a,e){page=a,window.location.hash="#page-"+page,console.log(page),null==sessions[page]?getData():setDataToTable()}}),$(".unit-search-item.link").click(function(a){var e=$(this);$("#category-search-drop-menu-button").html(e.attr("data-name")+' <span class="caret"></span>'),null!=e.attr("data-id")?$(".unit-id").val(e.attr("data-id")):$(".unit_id").val(null),a.preventDefault()}),$(".form-control.category-search.input").keyup(function(){var a=$(".form-control.category-search.input"),e=a.val();console.log("keyup with text: "+e),$(".unit-search-item").each(function(a){var t=$(this);t.text().toLowerCase().indexOf(e.toLowerCase())>=0?t.show():t.hide()})})});var success=function(a){1==a.status?(console.log(a),sessions[page]=[],a.data.forEach(function(a){sessions[page].push(a)}),setDataToTable(10*(page-1),a.data.length)):showError(a.message)},getData=function(){var a={page:page};"moderator"==$("#current-role").text()&&(a.faculty_id=$("#current-facultyID").text()),$.ajax({url:"/admin/theses/api/sessions",method:"GET",data:a,success:success,error:errorHandler})},setDataToTable=function(){$(".table.table-body").children().remove(),sessions[page].forEach(function(a){$("#table-sessions").append("<tr><td>"+a.name+"</td><td>"+formatDate(a.from)+"</td><td>"+formatDate(a.to)+"</td><td>"+a.faculty.name+'</td><td></td><td><a href="#" onclick="notify(event, \''+a.id+"')\">Send Notifications</a></td></tr>")})},notify=function(a,e){a.preventDefault(),bootbox.confirm({message:"Send email for all thesis-registrable students about this session?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:function(a){1==a&&$.ajax({url:"/admin/theses/api/sessions/notify",method:"POST",data:{session_id:e},success:function(a){1==a.status?bootbox.alert({message:"Send notifications successfully!",size:"small"}):showError(a.message)},error:errorHandler})}})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZXNlcy5zZXNzaW9ucy5qcyJdLCJuYW1lcyI6WyJzZXNzaW9ucyIsImhhc2giLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhZ2UiLCJudW1iZXJPZlBhZ2VzIiwiJCIsInRleHQiLCJkb2N1bWVudCIsInJlYWR5Iiwic3Vic3RyaW5nIiwicGFyc2VJbnQiLCJwYWdpbmF0aW9uIiwiaXRlbXMiLCJpdGVtT25QYWdlIiwiY3VycmVudFBhZ2UiLCJjc3NTdHlsZSIsInByZXZUZXh0IiwibmV4dFRleHQiLCJvbkluaXQiLCJnZXREYXRhIiwib25QYWdlQ2xpY2siLCJldnQiLCJjb25zb2xlIiwibG9nIiwic2V0RGF0YVRvVGFibGUiLCJjbGljayIsImUiLCJhIiwidGhpcyIsImh0bWwiLCJhdHRyIiwidmFsIiwicHJldmVudERlZmF1bHQiLCJrZXl1cCIsImlucHV0Iiwic2VhcmNoVGV4dCIsImVhY2giLCJpbmRleCIsIml0ZW0iLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJzaG93IiwiaGlkZSIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsInN0YXR1cyIsImRhdGEiLCJmb3JFYWNoIiwic2Vzc2lvbiIsInB1c2giLCJsZW5ndGgiLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiZmFjdWx0eV9pZCIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJlcnJvciIsImVycm9ySGFuZGxlciIsImNoaWxkcmVuIiwicmVtb3ZlIiwiYXBwZW5kIiwibmFtZSIsImZvcm1hdERhdGUiLCJmcm9tIiwidG8iLCJmYWN1bHR5IiwiaWQiLCJub3RpZnkiLCJzZXNzaW9uSUQiLCJib290Ym94IiwiY29uZmlybSIsImJ1dHRvbnMiLCJsYWJlbCIsImNsYXNzTmFtZSIsImNhbmNlbCIsImNhbGxiYWNrIiwicmVzdWx0Iiwic2Vzc2lvbl9pZCIsImFsZXJ0Iiwic2l6ZSJdLCJtYXBwaW5ncyI6IkFBSUEsR0FBSUEsYUFDQUMsS0FBT0MsT0FBT0MsU0FBU0YsS0FDdkJHLEtBQU8sRUFDUEMsY0FBZ0JDLEVBQUUsb0JBQW9CQyxNQUUxQ0QsR0FBRUUsVUFBVUMsTUFBTSxXQUVWUixNQUFnQyxTQUF4QkEsS0FBS1MsVUFBVSxFQUFHLEtBQzFCTixLQUFPTyxTQUFTVixLQUFLUyxVQUFVLEtBR25DSixFQUFFLGVBQWVNLFlBQ2JDLE1BQU9SLGNBQ1BTLFdBQVksRUFDWkMsWUFBYVgsS0FDYlksU0FBVSxHQUNWQyxTQUFVLDBDQUNWQyxTQUFVLDBDQUNWQyxPQUFRLFdBRUpDLFdBRUpDLFlBQWEsU0FBVU4sRUFBYU8sR0FFaENsQixLQUFPVyxFQUNQYixPQUFPQyxTQUFTRixLQUFPLFNBQVdHLEtBQ2xDbUIsUUFBUUMsSUFBSXBCLE1BQ1UsTUFBbEJKLFNBQVNJLE1BQ1RnQixVQUVBSyxvQkFPWm5CLEVBQUUsMEJBQTBCb0IsTUFBTSxTQUFVQyxHQUN4QyxHQUFJQyxHQUFJdEIsRUFBRXVCLEtBR1Z2QixHQUFFLHFDQUFxQ3dCLEtBQUtGLEVBQUVHLEtBQUssYUFBZSxnQ0FDekMsTUFBckJILEVBQUVHLEtBQUssV0FHUHpCLEVBQUUsWUFBWTBCLElBQUlKLEVBQUVHLEtBQUssWUFHekJ6QixFQUFFLFlBQVkwQixJQUFJLE1BSXRCTCxFQUFFTSxtQkFHTjNCLEVBQUUsdUNBQXVDNEIsTUFBTSxXQUMzQyxHQUFJQyxHQUFRN0IsRUFBRSx1Q0FDVjhCLEVBQWFELEVBQU1ILEtBRXZCVCxTQUFRQyxJQUFJLG9CQUFzQlksR0FFbEM5QixFQUFFLHFCQUFxQitCLEtBQUssU0FBVUMsR0FFbEMsR0FBSUMsR0FBT2pDLEVBQUV1QixLQUVUVSxHQUFLaEMsT0FBT2lDLGNBQWNDLFFBQVFMLEVBQVdJLGdCQUFrQixFQUMvREQsRUFBS0csT0FFTEgsRUFBS0ksWUFNckIsSUFBSUMsU0FBVSxTQUFVQyxHQUNHLEdBQW5CQSxFQUFTQyxRQUVUdkIsUUFBUUMsSUFBSXFCLEdBRVo3QyxTQUFTSSxTQUVUeUMsRUFBU0UsS0FBS0MsUUFBUSxTQUFVQyxHQUM1QmpELFNBQVNJLE1BQU04QyxLQUFLRCxLQUd4QnhCLGVBQTRCLElBQVpyQixLQUFPLEdBQVN5QyxFQUFTRSxLQUFLSSxTQUc5Q0MsVUFBVVAsRUFBU1EsVUFJdkJqQyxRQUFVLFdBRVYsR0FBSTJCLElBQ0EzQyxLQUFNQSxLQUd1QixjQUE3QkUsRUFBRSxpQkFBaUJDLFNBQ25Cd0MsRUFBS08sV0FBYWhELEVBQUUsc0JBQXNCQyxRQUc5Q0QsRUFBRWlELE1BQ0VDLElBQUssNkJBQ0xDLE9BQVEsTUFDUlYsS0FBTUEsRUFDTkgsUUFBU0EsUUFDVGMsTUFBT0MsZ0JBSVhsQyxlQUFpQixXQUNqQm5CLEVBQUUscUJBQXFCc0QsV0FBV0MsU0FFbEM3RCxTQUFTSSxNQUFNNEMsUUFBUSxTQUFVQyxHQUU3QjNDLEVBQUUsbUJBQW1Cd0QsT0FBTyxXQUNmYixFQUFRYyxLQUFPLFlBQ2ZDLFdBQVdmLEVBQVFnQixNQUFRLFlBQzNCRCxXQUFXZixFQUFRaUIsSUFBTSxZQUN6QmpCLEVBQVFrQixRQUFRSixLQUFPLDBEQUVjZCxFQUFRbUIsR0FBSyw0Q0FNbkVDLE9BQVMsU0FBVTFDLEVBQUcyQyxHQUN0QjNDLEVBQUVNLGlCQUVGc0MsUUFBUUMsU0FDSm5CLFFBQVMscUVBQ1RvQixTQUNJRCxTQUNJRSxNQUFPLE1BQ1BDLFVBQVcsZUFFZkMsUUFDSUYsTUFBTyxLQUNQQyxVQUFXLGVBR25CRSxTQUFVLFNBQVVDLEdBQ0YsR0FBVkEsR0FFQXhFLEVBQUVpRCxNQUNFQyxJQUFLLG9DQUNMQyxPQUFRLE9BQ1JWLE1BQ0lnQyxXQUFZVCxHQUVoQjFCLFFBQVMsU0FBVUMsR0FDUSxHQUFuQkEsRUFBU0MsT0FFVHlCLFFBQVFTLE9BQ0ozQixRQUFTLG1DQUNUNEIsS0FBTSxVQUlWN0IsVUFBVVAsRUFBU1EsVUFHM0JLLE1BQU9DIiwiZmlsZSI6InRoZXNlcy5zZXNzaW9ucy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgdHJhbnZpZXR0aGFuZyBvbiAxMi80LzE2LlxuICovXG5cbnZhciBzZXNzaW9ucyA9IHt9O1xudmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbnZhciBwYWdlID0gMTtcbnZhciBudW1iZXJPZlBhZ2VzID0gJChcIiNudW1iZXItb2YtcGFnZXNcIikudGV4dCgpO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG5cbiAgICBpZiAoaGFzaCAmJiBoYXNoLnN1YnN0cmluZygwLCA1KSA9PSAnI3BhZ2UnKSB7XG4gICAgICAgIHBhZ2UgPSBwYXJzZUludChoYXNoLnN1YnN0cmluZyg2KSk7XG4gICAgfVxuXG4gICAgJCgnI3BhZ2luYXRpb24nKS5wYWdpbmF0aW9uKHtcbiAgICAgICAgaXRlbXM6IG51bWJlck9mUGFnZXMsXG4gICAgICAgIGl0ZW1PblBhZ2U6IDgsXG4gICAgICAgIGN1cnJlbnRQYWdlOiBwYWdlLFxuICAgICAgICBjc3NTdHlsZTogJycsXG4gICAgICAgIHByZXZUZXh0OiAnPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JmxhcXVvOzwvc3Bhbj4nLFxuICAgICAgICBuZXh0VGV4dDogJzxzcGFuIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPiZyYXF1bzs8L3NwYW4+JyxcbiAgICAgICAgb25Jbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBmaXJlIGZpcnN0IHBhZ2UgbG9hZGluZ1xuICAgICAgICAgICAgZ2V0RGF0YSgpO1xuICAgICAgICB9LFxuICAgICAgICBvblBhZ2VDbGljazogZnVuY3Rpb24gKGN1cnJlbnRQYWdlLCBldnQpIHtcbiAgICAgICAgICAgIC8vIHNvbWUgY29kZVxuICAgICAgICAgICAgcGFnZSA9IGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBcIiNwYWdlLVwiICsgcGFnZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhZ2UpO1xuICAgICAgICAgICAgaWYgKHNlc3Npb25zW3BhZ2VdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBnZXREYXRhKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldERhdGFUb1RhYmxlKCk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKFwiLnVuaXQtc2VhcmNoLWl0ZW0ubGlua1wiKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgYSA9ICQodGhpcyk7XG5cbiAgICAgICAgLy8gc2V0IHRleHQgZm9yIGRyb3AtZG93biBtZW51XG4gICAgICAgICQoXCIjY2F0ZWdvcnktc2VhcmNoLWRyb3AtbWVudS1idXR0b25cIikuaHRtbChhLmF0dHIoXCJkYXRhLW5hbWVcIikgKyBcIiA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cIik7XG4gICAgICAgIGlmIChhLmF0dHIoXCJkYXRhLWlkXCIpICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHNldCB2YWx1ZSBmb3IgZm9ybVxuXG4gICAgICAgICAgICAkKFwiLnVuaXQtaWRcIikudmFsKGEuYXR0cihcImRhdGEtaWRcIikpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKFwiLnVuaXRfaWRcIikudmFsKG51bGwpO1xuICAgICAgICB9XG5cblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAkKFwiLmZvcm0tY29udHJvbC5jYXRlZ29yeS1zZWFyY2guaW5wdXRcIikua2V5dXAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW5wdXQgPSAkKFwiLmZvcm0tY29udHJvbC5jYXRlZ29yeS1zZWFyY2guaW5wdXRcIik7XG4gICAgICAgIHZhciBzZWFyY2hUZXh0ID0gaW5wdXQudmFsKCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coXCJrZXl1cCB3aXRoIHRleHQ6IFwiICsgc2VhcmNoVGV4dCk7XG5cbiAgICAgICAgJChcIi51bml0LXNlYXJjaC1pdGVtXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG5cbiAgICAgICAgICAgIHZhciBpdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgaWYgKGl0ZW0udGV4dCgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkpID49IDApIHtcbiAgICAgICAgICAgICAgICBpdGVtLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSk7XG59KTtcblxudmFyIHN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IHRydWUpIHtcblxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG5cbiAgICAgICAgc2Vzc2lvbnNbcGFnZV0gPSBbXTtcblxuICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgICAgIHNlc3Npb25zW3BhZ2VdLnB1c2goc2Vzc2lvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldERhdGFUb1RhYmxlKChwYWdlIC0gMSkgKiAxMCwgcmVzcG9uc2UuZGF0YS5sZW5ndGgpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2hvd0Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UpXG4gICAgfVxufTtcblxudmFyIGdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgcGFnZTogcGFnZVxuICAgIH07XG5cbiAgICBpZiAoJChcIiNjdXJyZW50LXJvbGVcIikudGV4dCgpID09IFwibW9kZXJhdG9yXCIpIHtcbiAgICAgICAgZGF0YS5mYWN1bHR5X2lkID0gJChcIiNjdXJyZW50LWZhY3VsdHlJRFwiKS50ZXh0KCk7XG4gICAgfVxuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBcIi9hZG1pbi90aGVzZXMvYXBpL3Nlc3Npb25zXCIsXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgZXJyb3I6IGVycm9ySGFuZGxlclxuICAgIH0pO1xufTtcblxudmFyIHNldERhdGFUb1RhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICQoJy50YWJsZS50YWJsZS1ib2R5JykuY2hpbGRyZW4oKS5yZW1vdmUoKTtcblxuICAgIHNlc3Npb25zW3BhZ2VdLmZvckVhY2goZnVuY3Rpb24gKHNlc3Npb24pIHtcblxuICAgICAgICAkKCcjdGFibGUtc2Vzc2lvbnMnKS5hcHBlbmQoJzx0cj4nICtcbiAgICAgICAgICAgICc8dGQ+JyArIHNlc3Npb24ubmFtZSArICc8L3RkPicgK1xuICAgICAgICAgICAgJzx0ZD4nICsgZm9ybWF0RGF0ZShzZXNzaW9uLmZyb20pICsgJzwvdGQ+JyArXG4gICAgICAgICAgICAnPHRkPicgKyBmb3JtYXREYXRlKHNlc3Npb24udG8pICsgJzwvdGQ+JyArXG4gICAgICAgICAgICAnPHRkPicgKyBzZXNzaW9uLmZhY3VsdHkubmFtZSArICc8L3RkPicgK1xuICAgICAgICAgICAgJzx0ZD4nICsgJzwvdGQ+JyArXG4gICAgICAgICAgICAnPHRkPjxhIGhyZWY9XCIjXCIgb25jbGljaz1cIm5vdGlmeShldmVudCwgXFwnJyArIHNlc3Npb24uaWQgKyAnXFwnKVwiPlNlbmQgTm90aWZpY2F0aW9uczwvYT48L3RkPicgK1xuICAgICAgICAgICAgJzwvdHI+J1xuICAgICAgICApXG4gICAgfSk7XG59O1xuXG52YXIgbm90aWZ5ID0gZnVuY3Rpb24gKGUsIHNlc3Npb25JRCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGJvb3Rib3guY29uZmlybSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiU2VuZCBlbWFpbCBmb3IgYWxsIHRoZXNpcy1yZWdpc3RyYWJsZSBzdHVkZW50cyBhYm91dCB0aGlzIHNlc3Npb24/XCIsXG4gICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICAgIGNvbmZpcm06IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ1llcycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLXN1Y2Nlc3MnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsOiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdObycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYnRuLWRhbmdlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9hZG1pbi90aGVzZXMvYXBpL3Nlc3Npb25zL25vdGlmeVwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uSURcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3Rib3guYWxlcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNlbmQgbm90aWZpY2F0aW9ucyBzdWNjZXNzZnVsbHkhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbWFsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IocmVzcG9uc2UubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9ySGFuZGxlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59O1xuIl19
