<html>
<head>
    <%- include('./lecturer.head.ejs', {title: "Lecturers"}) %>
    <% var lecturer ={
        "name":"Nguyễn Văn B",
        "rank":"Tiến sĩ",
        "unit":"Bộ môn công nghệ phần mềm",
        "research":"Kiểm thử phần mềm",
        "subjects":["Tin học cơ sở 1","Lập trình nâng cao","Kiểm thử phần mềm"],
        "email":"abc@gmail.com",
        "avatar":"/img/250x250.png"
    };%>
</head>
<body >
<div id="wrapper">
    <% include lecturer.nav.ejs %>
    <div class="container">
        <section style="padding-bottom: 50px; padding-top: 50px;">
            <div class="row">
                <div class="col-md-4">
                    <img src="/img/250x250.png" class="img-rounded img-responsive" />
                    <br />
                    <br />
                    <br /><br/>
                </div>
                <div class="col-md-8">
                    <div class="alert alert-info">
                        <h2>Xin chào abc : </h2>
                    </div>
                    <div class="form-group col-md-8">
                        <h3>Change Your Password</h3>
                        <br />
                        <label>Enter Old Password</label>
                        <input type="password" class="form-control" >
                        <label>Enter New Password</label>
                        <input type="password" class="form-control" id="newPass" >
                        <label id="errNew"></label>
                        </br>
                        <label>Confirm New Password</label>
                        <input type="password" class="form-control" style="color: #4cae4c" />
                        <label id="errMatch"></label>
                        <br>
                        <a href="#" class="btn btn-warning">Change Password</a>
                    </div>
                </div>
            </div>
            <!-- ROW END -->
        </section>
        <!-- SECTION END -->
    </div>

    <!-- CONATINER END -->
</div>
<!-- REQUIRED SCRIPTS FILES -->
<!-- CORE JQUERY FILE -->
<script src="\vendor\jquery\jquery.min.js"></script>
<!-- REQUIRED BOOTSTRAP SCRIPTS -->
<script src="\vendor\bootstrap\js\bootstrap.min.js"></script>
</body>
<script>
    /*
     checkStrength is function which will do the
     main password strength checking for us
     */

    function checkStrength(password)
    {
        //initial strength
        var strength = 0

        //if the password length is less than 6, return message.
        if (password.length < 6) {
            $('#result').removeClass()
            $('#result').addClass('short')
            return 'Too short'
        }

        //length is ok, lets continue.

        //if length is 8 characters or more, increase strength value
        if (password.length > 7) strength += 1

        //if password contains both lower and uppercase characters, increase strength value
        if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/))  strength += 1

        //if it has numbers and characters, increase strength value
        if (password.match(/([a-zA-Z])/) && password.match(/([0-9])/))  strength += 1

        //if it has one special character, increase strength value
        if (password.match(/([!,%,&,@,#,$,^,*,?,_,~])/))  strength += 1

        //if it has two special characters, increase strength value
        if (password.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,%,&,@,#,$,^,*,?,_,~])/)) strength += 1

        //now we have calculated strength value, we can return messages

        //if value is less than 2
        if (strength < 2 )
        {
            $('#result').removeClass()
            $('#result').addClass('weak')
            return 'Weak'
        }
        else if (strength == 2 )
        {
            $('#result').removeClass()
            $('#result').addClass('good')
            return 'Good'
        }
        else
        {
            $('#result').removeClass()
            $('#result').addClass('strong')
            return 'Strong'
        }
    }
    var check =false;
    $(document).ready(function () {
        $('#newPass').keyup(function()
        {
            var res= checkStrength($('#newPass').val());
            switch (res){
                case "Too short":
                    $('#errNew').css({color:"red"});
                    check=false;
                    break;
                case "Weak":
                    $('#errNew').css({color:"orange"});
                    check=true;
                    break;
                case "Good":
                    $('#errNew').css({color:"#00ff00"});
                    check=true;
                    break;
                case "Strong":
                    $('#errNew').css({color:"green"});
                    check=true;
                    break;
            }
            $('#errNew').html(res);
        })
    });

</script>
</html>
